<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Eldora - Multi-Profile App</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Global Styles */
    body {
      background-image: linear-gradient(to right, #a1c4fd, #c2e9fb);
      font-family: 'Inter', sans-serif;
    }
    .card {
      background: #f7f7f7;
      border-radius: 0.5rem;
      box-shadow: 0 10px 15px rgba(0,0,0,0.1);
    }
    input[type="text"],
    input[type="number"],
    input[type="time"],
    input[type="file"] {
      background-color: #f7f7f7;
      padding: 0.75rem 1rem;
      font-size: 1rem;
    }
    .log-entry {
      padding: 0.75rem;
      background: white;
      border-left: 4px solid;
      margin-bottom: 0.5rem;
      border-radius: 0.25rem;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    }
    .log-success { border-color: #10b981; }
    .log-danger { border-color: #ef4444; }
  </style>
</head>
<body class="min-h-screen">
  <!-- Landing / Profile Selection Page -->
  <div id="landingPage" class="flex flex-col items-center justify-center h-screen">
    <h1 class="text-5xl font-bold mb-8">Welcome to Eldora</h1>
    <p class="text-xl mb-8">Select Your Profile</p>
    <div class="space-x-4">
      <button id="selectCaregiver" class="bg-blue-600 text-white px-6 py-3 rounded">Caregiver</button>
      <button id="selectElder" class="bg-green-600 text-white px-6 py-3 rounded">Elder</button>
    </div>
  </div>

  <!-- Caregiver Profile Section -->
  <div id="caregiverProfile" class="hidden">
    <!-- Fixed Caregiver Navigation -->
    <nav class="fixed top-0 left-0 right-0 bg-blue-600 shadow-lg z-50">
      <div class="max-w-4xl mx-auto flex space-x-4 p-4">
        <button class="caregiver-nav-btn nav-btn text-white font-semibold px-4 py-2 rounded active" data-page="cgHome">Home</button>
        <button class="caregiver-nav-btn nav-btn text-white font-semibold px-4 py-2 rounded" data-page="cgMedicine">Medicine Reminder</button>
        <button class="caregiver-nav-btn nav-btn text-white font-semibold px-4 py-2 rounded" data-page="cgSafety">Safety Zone</button>
        <button class="caregiver-nav-btn nav-btn text-white font-semibold px-4 py-2 rounded" data-page="cgProfile">Profile</button>
        <button id="cgLogout" class="ml-auto bg-red-500 text-white px-4 py-2 rounded">Logout</button>
      </div>
    </nav>
    <!-- Content container with top padding -->
    <div class="pt-20 flex flex-col items-center">
      <!-- Caregiver Home Page -->
      <div id="cgHome" class="cg-page w-full max-w-4xl px-4">
        <h2 class="text-3xl font-bold mb-4 text-center">Eldora - Caregiver Home</h2>
        <div class="grid grid-cols-2 gap-4">
          <a href="#" id="cgMedicineBtn" class="block bg-blue-300 hover:bg-blue-400 transition-all duration-200 rounded-lg p-6 text-center shadow-lg transform hover:scale-105">
            <img src="all folders/medicine.png" alt="Medication Reminders" class="mx-auto w-16 h-16">
            <p class="font-bold mt-2">Medicine Reminder</p>
          </a>
          <a href="#" id="cgSafetyBtn" class="block bg-green-300 hover:bg-green-400 transition-all duration-200 rounded-lg p-6 text-center shadow-lg transform hover:scale-105">
            <img src="all folders/map.png" alt="Safety Zones" class="mx-auto w-16 h-16">
            <p class="font-bold mt-2">Safety Zone</p>
          </a>
          <a href="#" id="cgProfileBtn" class="block bg-orange-300 hover:bg-orange-400 transition-all duration-200 rounded-lg p-6 text-center shadow-lg transform hover:scale-105">
            <img src="all folders/profile.png" alt="Profile" class="mx-auto w-16 h-16">
            <p class="font-bold mt-2">Profile</p>
          </a>
          <a href="#" id="cgActivityBtn" class="block bg-purple-300 hover:bg-purple-400 transition-all duration-200 rounded-lg p-6 text-center shadow-lg transform hover:scale-105">
            <img src="all folders/log.png" alt="Activity Log" class="mx-auto w-16 h-16">
            <p class="font-bold mt-2">Activity Log</p>
          </a>
        </div>
        <!-- Fixed Footer Navigation for Caregiver -->
        <footer class="fixed bottom-0 left-0 right-0 p-4 bg-white shadow-lg flex justify-around">
          <button id="cgHomeBtn" class="text-2xl transition-transform transform hover:scale-125">üè†</button>
          <button id="cgProfileFooter" class="text-2xl transition-transform transform hover:scale-125">üë§</button>
          <button id="cgSettingsBtn" class="text-2xl transition-transform transform hover:scale-125">‚öôÔ∏è</button>
          <button id="cgLogoutBtn" class="text-2xl transition-transform transform hover:scale-125 text-red-500">‚éã</button>
        </footer>
      </div>
      
      <!-- Additional Caregiver Pages -->
      <div id="cgMedicine" class="cg-page hidden w-full max-w-4xl px-4">
        <h2 class="text-3xl font-bold mb-4">Medicine Reminder</h2>
        <div class="card p-6 rounded-lg shadow-md mb-8">
          <h3 class="text-2xl font-semibold text-gray-700 mb-4 border-b pb-2">Set Medicine Reminder</h3>
          <form id="medicineForm" class="space-y-4">
            <div>
              <label for="medicineName" class="block text-gray-600 font-medium">Medicine Name</label>
              <input type="text" id="medicineName" name="medicineName" placeholder="e.g. Paracetamol" required />
            </div>
            <div>
              <label for="pillCount" class="block text-gray-600 font-medium">Pills per Dose</label>
              <input type="number" id="pillCount" name="pillCount" placeholder="e.g. 2 pills" min="1" required />
            </div>
            <div>
              <label for="frequency" class="block text-gray-600 font-medium">Frequency (Days)</label>
              <input type="number" id="frequency" name="frequency" min="1" max="365" value="3" required />
            </div>
            <div>
              <label class="block text-gray-600 font-medium">
                <input type="checkbox" id="lifetime" class="mr-2"> Lifetime Medication
              </label>
            </div>
            <!-- Image Upload Field -->
            <div>
              <label for="medicineImages" class="block text-gray-600 font-medium">Upload Medicine Image(s)</label>
              <input type="file" id="medicineImages" name="medicineImages" accept="image/*" multiple />
            </div>
            <div>
              <label class="block text-gray-600 font-medium mb-2">Set Alarm Time(s)</label>
              <div id="timeSlots" class="space-y-2">
                <div class="flex space-x-2 items-center time-slot">
                  <input type="time" class="startTime rounded-md border-gray-300 shadow-sm" required />
                  <span class="self-center">to</span>
                  <input type="time" class="endTime rounded-md border-gray-300 shadow-sm" required />
                  <button type="button" class="removeTimeSlot bg-red-500 text-white px-2 py-1 rounded hover:bg-red-600">Remove</button>
                </div>
              </div>
              <button type="button" id="addTimeSlotCG" class="mt-2 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Add Time Slot</button>
            </div>
            <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Set Reminder</button>
          </form>
        </div>
        <div class="card bg-white p-6 rounded-lg shadow-md mb-8">
          <h3 class="text-2xl font-semibold text-gray-700 mb-4">Active Medicine Reminders</h3>
          <div id="caregiverRemindersList">
            <p class="text-gray-500">No reminders set yet.</p>
          </div>
        </div>
        <div class="card bg-white p-6 rounded-lg shadow-md">
          <h3 class="text-2xl font-semibold text-gray-700 mb-4">Activity Log</h3>
          <div id="activityLog" class="space-y-2 max-h-96 overflow-y-auto">
            <p class="text-gray-500 text-sm">No activities yet.</p>
          </div>
        </div>
      </div>
      <div id="cgSafety" class="cg-page hidden w-full max-w-4xl px-4">
        <h2 class="text-3xl font-bold mb-4">Safety Zone</h2>
        <p>Access emergency contacts, safety tips, and location-based features here.</p>
      </div>
      <div id="cgProfile" class="cg-page hidden w-full max-w-4xl px-4">
        <h2 class="text-3xl font-bold mb-4">Profile</h2>
        <p>Manage your personal details and settings here.</p>
      </div>
    </div>
  </div>

  <!-- Elder Profile Section -->
  <div id="elderProfile" class="hidden">
    <!-- Elder Home Page -->
    <div id="elHome" class="el-page">
      <header class="w-full bg-white shadow-lg p-4 flex items-center justify-center">
        <h1 class="text-2xl font-bold flex items-center">
          <span class="mr-2">üè†</span> Eldora
        </h1>
      </header>
      <div class="flex flex-col items-center p-4">
        <div class="bg-white shadow-md rounded-lg p-4 m-4 w-11/12 text-center">
          <p class="text-lg font-semibold">
            Welcome to the app, <span class="text-blue-600">El Hopper!</span>
          </p>
        </div>
        <div class="bg-white shadow-md rounded-lg p-4 w-11/12 text-center mb-4">
          <p class="font-medium mb-2">How are you feeling today?</p>
          <div class="flex justify-center space-x-3">
            <a href="#" class="text-2xl cursor-pointer transition-transform transform hover:scale-125" onclick="showPopup('happy')">üòÉ</a>
            <a href="#" class="text-2xl cursor-pointer transition-transform transform hover:scale-125" onclick="showPopup('smile')">üòä</a>
            <a href="#" class="text-2xl cursor-pointer transition-transform transform hover:scale-125" onclick="showPopup('neutral')">üòê</a>
            <a href="#" class="text-2xl cursor-pointer transition-transform transform hover:scale-125" onclick="showPopup('sad')">‚òπÔ∏è</a>
            <a href="#" class="text-2xl cursor-pointer transition-transform transform hover:scale-125" onclick="showPopup('cry')">üò¢</a>
          </div>
        </div>
        <div class="grid grid-cols-2 gap-4 p-4 w-11/12">
          <a href="all folders/fall_detection.html" id="elFallBtn" class="block bg-orange-300 hover:bg-orange-400 transition-all duration-200 rounded-lg p-6 text-center shadow-lg transform hover:scale-105">
            <img src="all folders/fall.png" alt="Fall Detection" class="mx-auto w-16 h-16">
            <p class="font-bold mt-2">Fall Detection</p>
          </a>
          <a href="all folders/emergency.html" id="elSosBtn" class="block bg-red-300 hover:bg-red-400 transition-all duration-200 rounded-lg p-6 text-center shadow-lg transform hover:scale-105">
            <img src="all folders/alarm.png" alt="Emergency SOS" class="mx-auto w-16 h-16">
            <p class="font-bold mt-2">Emergency SOS</p>
          </a>
          <a href="all folders/safety_zone.html" id="elSafetyBtn" class="block bg-green-300 hover:bg-green-400 transition-all duration-200 rounded-lg p-6 mb-12 text-center shadow-lg transform hover:scale-105">
            <img src="all folders/map.png" alt="Safety Zones" class="mx-auto w-16 h-16">
            <p class="font-bold mt-2">Safety Zones</p>
          </a>
          <a href="all folders/med_reminder_elder.html" id="elMedicineBtn" class="block bg-blue-300 hover:bg-blue-400 transition-all duration-200 rounded-lg p-6 mb-12 text-center shadow-lg transform hover:scale-105">
            <img src="all folders/medicine.png" alt="Medication Reminders" class="mx-auto w-16 h-16">
            <p class="font-bold mt-2">Medication Reminders</p>
          </a>
        </div>
        <!-- Fixed Elder Footer Navigation -->
        <footer class="fixed bottom-0 left-0 right-0 p-4 bg-white shadow-lg flex justify-around">
        <a href= "all folders/index.html">  <button id="elHomeBtn" class="text-2xl transition-transform transform hover:scale-125">üè†</button> </a>
          <button id="elProfileFooter" class="text-2xl transition-transform transform hover:scale-125">üë§</button>
          <button id="elSettingsBtn" class="text-2xl transition-transform transform hover:scale-125">‚öôÔ∏è</button>
          <button id="elLogoutBtn" class="text-2xl transition-transform transform hover:scale-125 text-red-500">‚éã</button>
        </footer>
      </div>
    </div>
    <!-- Elder Additional Pages -->
    <div id="elMedicine" class="el-page hidden w-full max-w-4xl px-4">
      <h2 class="text-3xl font-bold mb-4">Medicine Reminder</h2>
      <div class="card bg-white p-6 rounded-lg shadow-md">
        <div id="elderReminders" class="overflow-x-auto">
          <p class="text-gray-500">No reminders available.</p>
        </div>
      </div>
    </div>
    <div id="elSafety" class="el-page hidden w-full max-w-4xl px-4">
      <h2 class="text-3xl font-bold mb-4">Safety Zone</h2>
      <p>Access safety tips, emergency contacts, and location-based safety features here.</p>
    </div>
    <div id="elProfile" class="el-page hidden w-full max-w-4xl px-4">
      <h2 class="text-3xl font-bold mb-4">Profile</h2>
      <p>View and update your personal details here.</p>
    </div>
  </div>

  <script>
    // -------------------------
    // Shared Functions & Helpers
    // -------------------------
    function timeToMinutes(timeStr) {
      const [h, m] = timeStr.split(':').map(Number);
      return h * 60 + m;
    }
    
    function calculateAlarmTimes(start, end) {
      const startM = timeToMinutes(start);
      const endM = timeToMinutes(end);
      const duration = endM - startM;
      const base = Math.floor(duration / 3);
      const remainder = duration % 3;
      const firstAlarm = startM + base + (remainder >= 1 ? 1 : 0);
      const secondAlarm = firstAlarm + base + (remainder === 2 ? 1 : 0);
      const thirdAlarm = endM;
      return [firstAlarm, secondAlarm, thirdAlarm];
    }
    
    function formatDelay(minutes) {
      const hours = Math.floor(minutes / 60);
      const remaining = minutes % 60;
      let parts = [];
      if (hours > 0) parts.push(`${hours} hour${hours === 1 ? '' : 's'}`);
      if (remaining > 0) parts.push(`${remaining} minute${remaining === 1 ? '' : 's'}`);
      return parts.join(' ') + ' late';
    }
    
    let logEntries = [];
    function addLogEntry(message) {
      const timestamp = new Date().toLocaleString();
      logEntries.unshift({ timestamp, message });
      updateActivityLog();
    }
    
    function updateActivityLog() {
      const logContainer = document.getElementById('activityLog');
      if (logEntries.length === 0) {
        logContainer.innerHTML = '<p class="text-gray-500 text-sm">No activities yet.</p>';
      } else {
        logContainer.innerHTML = logEntries.map(entry => {
          const logClass = entry.message.toLowerCase().includes("missed") ? "log-danger" : "log-success";
          return `
            <div class="log-entry ${logClass}">
              <div class="flex justify-between text-sm">
                <span class="font-medium">${entry.message}</span>
                <span class="text-gray-500 text-xs">${entry.timestamp}</span>
              </div>
            </div>
          `;
        }).join('');
      }
    }
    
    // -------------------------
    // Caregiver Profile Functions
    // -------------------------
    let remindersCG = [];
    let remindersEL = [];
    
    document.addEventListener('DOMContentLoaded', function() {
      const caregiverForm = document.getElementById('medicineForm');
      const frequencyInput = document.getElementById('frequency');
      const lifetimeCheckbox = document.getElementById('lifetime');
      const timeSlotsDiv = document.getElementById('timeSlots');
      
      caregiverForm.addEventListener('submit', function(e) {
        e.preventDefault();
        const medicineName = document.getElementById('medicineName').value;
        const pillCount = document.getElementById('pillCount').value;
        const frequency = lifetimeCheckbox.checked ? "Life" : frequencyInput.value;
        const imageInput = document.getElementById('medicineImages');
        const files = imageInput.files;
        
        const timeSlots = Array.from(document.querySelectorAll('.time-slot')).map(slot => {
          const start = slot.querySelector('.startTime').value;
          const end = slot.querySelector('.endTime').value;
          if (!start || !end) {
            alert("Please fill in all time slot fields.");
            return;
          }
          const startM = timeToMinutes(start);
          const endM = timeToMinutes(end);
          const duration = endM - startM;
          if (duration <= 0) {
            alert("End time must be after start time.");
            return;
          }
          const alarmTimes = calculateAlarmTimes(start, end);
          return {
            start,
            end,
            status: "pending",
            alarmTimes,
            alarmsTriggered: [false, false, false]
          };
        }).filter(x => x !== undefined);
        
        function processReminder(images) {
          const reminder = {
            id: Date.now(),
            medicineName,
            pillCount,
            frequency,
            timeSlots,
            images
          };
          remindersCG.push(reminder);
          // For demo, share same reminder with Elder profile.
          remindersEL.push(reminder);
          updateCaregiverViews();
          updateElderViews();
          caregiverForm.reset();
          frequencyInput.disabled = false;
          lifetimeCheckbox.checked = false;
          timeSlotsDiv.innerHTML = `<div class="flex space-x-2 items-center time-slot">
            <input type="time" class="startTime rounded-md border-gray-300 shadow-sm" required />
            <span class="self-center">to</span>
            <input type="time" class="endTime rounded-md border-gray-300 shadow-sm" required />
            <button type="button" class="removeTimeSlot bg-red-500 text-white px-2 py-1 rounded hover:bg-red-600">Remove</button>
          </div>`;
        }
        
        if (files.length > 0) {
          let filePromises = [];
          for (let i = 0; i < files.length; i++) {
            filePromises.push(new Promise((resolve, reject) => {
              const reader = new FileReader();
              reader.onload = function(e) {
                resolve(e.target.result);
              };
              reader.onerror = reject;
              reader.readAsDataURL(files[i]);
            }));
          }
          Promise.all(filePromises).then(images => {
            processReminder(images);
          }).catch(() => {
            alert("Error reading image files.");
          });
        } else {
          processReminder([]);
        }
      });
      
      setInterval(() => {
        const now = new Date();
        const currentMinutes = now.getHours() * 60 + now.getMinutes();
        remindersCG.forEach(reminder => {
          reminder.timeSlots.forEach(slot => {
            const slotStart = timeToMinutes(slot.start);
            const slotEnd = timeToMinutes(slot.end);
            if (currentMinutes >= slotStart && currentMinutes < slotEnd) {
              slot.alarmTimes.forEach((alarmTime, index) => {
                if (!slot.alarmsTriggered[index] && currentMinutes >= alarmTime) {
                  alert(`Reminder for Elder: Time to take ${reminder.medicineName} (${slot.start} - ${slot.end}) [Alarm ${index+1}]`);
                  slot.alarmsTriggered[index] = true;
                }
              });
            }
            if (currentMinutes >= slotEnd && slot.status === "pending") {
              slot.status = "missed";
              alert(`Alert for Caregiver: Medicine "${reminder.medicineName}" missed for time slot ${slot.start} - ${slot.end}`);
              addLogEntry(`Medicine "${reminder.medicineName}" missed for time slot ${slot.start} - ${slot.end}`);
            }
          });
        });
        updateCaregiverViews();
        updateElderViews();
      }, 1000);
      
      function updateCaregiverViews() {
        const caregiverHTML = remindersCG.map(reminder => `
          <div class="bg-white p-6 rounded-lg shadow-md mb-8">
            <h1 class="text-3xl font-bold text-gray-800">${reminder.medicineName}</h1>
            <p class="text-gray-600">Pills per Dose: ${reminder.pillCount}</p>
            <p class="text-gray-600">Frequency: ${reminder.frequency === "Life" ? "Lifetime" : reminder.frequency + " day(s)"}</p>
          </div>
        `).join('') || '<p class="text-gray-500">No reminders set yet.</p>';
        document.getElementById('caregiverReminders').innerHTML = caregiverHTML;
        updateActivityLog();
      }
      
      function updateElderViews() {
        const elderHTML = remindersEL.map(reminder => `
          <div class="bg-white p-6 rounded-lg shadow-md mb-8">
            <h1 class="text-3xl font-bold text-gray-800">${reminder.medicineName}</h1>
            <p class="text-gray-600">Pills per Dose: ${reminder.pillCount}</p>
            ${ reminder.images && reminder.images.length ? `
              <div class="flex space-x-2 mt-2">
                ${ reminder.images.map(img => `<img src="${img}" class="w-48 h-48 object-contain rounded" />`).join('') }
              </div>
            ` : '' }
            ${ reminder.timeSlots.map((slot, idx) => `
              <div class="mt-2">
                <p class="text-gray-600">${slot.start} - ${slot.end}</p>
                ${ (slot.status === 'pending' || slot.status === 'missed') ? `
                  <button onclick="markTaken(${reminder.id}, ${idx})" class="bg-green-500 text-white px-3 py-1 rounded hover:bg-green-600">
                    Mark as Taken
                  </button>
                ` : '' }
              </div>
            `).join('')}
          </div>
        `).join('') || '<p class="text-gray-500">No reminders available.</p>';
        document.getElementById('elderReminders').innerHTML = elderHTML;
      }
      
      function markTaken(reminderId, slotIndex) {
        console.log(`Marking reminder ${reminderId}, slot ${slotIndex} as taken.`);
        remindersCG = remindersCG.map(reminder => {
          if (reminder.id === reminderId) {
            const slot = reminder.timeSlots[slotIndex];
            if (slot.status === "pending" || slot.status === "missed") {
              const now = new Date();
              const currentMinutes = now.getHours() * 60 + now.getMinutes();
              const slotEnd = timeToMinutes(slot.end);
              const delay = currentMinutes - slotEnd;
              slot.status = delay > 0 
                ? `Taken (${formatDelay(delay)})`
                : 'Taken on time';
              addLogEntry(`Medicine "${reminder.medicineName}" taken ${delay > 0 ? formatDelay(delay) : 'on time'} at ${now.toLocaleTimeString()}`);
            }
          }
          return reminder;
        });
        updateCaregiverViews();
        updateElderViews();
      }
      window.markTaken = markTaken;
    });
    
    // -------------------------
    // Elder Navigation (Internal Pages)
    // -------------------------
    document.addEventListener('DOMContentLoaded', function() {
      const elderNavButtons = document.querySelectorAll('.elder-nav-btn');
      elderNavButtons.forEach(btn => {
        btn.addEventListener('click', () => {
          const page = btn.getAttribute('data-page');
          document.querySelectorAll('.el-page').forEach(section => section.classList.add('hidden'));
          document.getElementById(page).classList.remove('hidden');
          elderNavButtons.forEach(b => b.classList.remove('bg-green-700'));
          btn.classList.add('bg-green-700');
        });
      });
      // Default Elder Navigation: show Home page
      document.getElementById('elHome').classList.remove('hidden');
      document.getElementById('elMedicine').classList.add('hidden');
      document.getElementById('elSafety').classList.add('hidden');
      document.getElementById('elProfile').classList.add('hidden');
      
      document.getElementById('elLogoutBtn').addEventListener('click', () => {
        document.getElementById('elderProfile').classList.add('hidden');
        document.getElementById('landingPage').classList.remove('hidden');
      });
    });
    
    // -------------------------
    // Caregiver Navigation (Internal Pages)
    // -------------------------
    document.addEventListener('DOMContentLoaded', function() {
      const caregiverNavButtons = document.querySelectorAll('.caregiver-nav-btn');
      caregiverNavButtons.forEach(btn => {
        btn.addEventListener('click', () => {
          const page = btn.getAttribute('data-page');
          document.querySelectorAll('.cg-page').forEach(section => section.classList.add('hidden'));
          document.getElementById(page).classList.remove('hidden');
          caregiverNavButtons.forEach(b => b.classList.remove('bg-blue-700'));
          btn.classList.add('bg-blue-700');
        });
      });
      // Default Caregiver Navigation: show Home page
      document.getElementById('cgHome').classList.remove('hidden');
      document.getElementById('cgMedicine').classList.add('hidden');
      document.getElementById('cgSafety').classList.add('hidden');
      document.getElementById('cgProfile').classList.add('hidden');
      
      document.getElementById('cgLogoutBtn').addEventListener('click', () => {
        document.getElementById('caregiverProfile').classList.add('hidden');
        document.getElementById('landingPage').classList.remove('hidden');
      });
    });
    
    // -------------------------
    // Landing Page Profile Selection
    // -------------------------
    document.addEventListener('DOMContentLoaded', function() {
      document.getElementById('selectCaregiver').addEventListener('click', () => {
        document.getElementById('landingPage').classList.add('hidden');
        document.getElementById('caregiverProfile').classList.remove('hidden');
      });
      document.getElementById('selectElder').addEventListener('click', () => {
        document.getElementById('landingPage').classList.add('hidden');
        document.getElementById('elderProfile').classList.remove('hidden');
      });
    });
    
    // -------------------------
    // Pop-up for Elder Mood Section
    // -------------------------
    function showPopup(mood) {
      const messages = {
        happy: [
          "Stay happy and keep smiling!",
          "Your joy brightens everyone's day!",
          "Happiness is contagious!",
          "Keep shining with positivity!",
          "Enjoy your wonderful mood!"
        ],
        smile: [
          "Your smile is beautiful!",
          "Keep spreading that amazing smile!",
          "A smile can change the world!",
          "Your smile makes everything better!",
          "Smiles are always in style!"
        ],
        neutral: [
          "It's okay to have a calm day.",
          "A neutral mood is just a pause before greatness.",
          "Stay balanced and centered.",
          "Every mood has its beauty.",
          "Take a moment to appreciate today."
        ],
        sad: [
          "It's okay to feel sad sometimes.",
          "Every storm eventually passes.",
          "You're stronger than you know.",
          "Take your time to heal.",
          "Remember, brighter days are ahead."
        ],
        cry: [
          "It's okay to cry; your feelings matter.",
          "Let your tears flow and heal your heart.",
          "You're not alone in this.",
          "Sometimes tears speak what words cannot.",
          "Better days are coming soon."
        ]
      };
      const messageList = messages[mood];
      const randomMessage = messageList[Math.floor(Math.random() * messageList.length)];
      document.getElementById("popup-text").innerText = randomMessage;
      document.getElementById("overlay").style.display = "flex";
    }
    
    function hidePopup() {
      document.getElementById("overlay").style.display = "none";
    }
  </script>
</body>
</html>
